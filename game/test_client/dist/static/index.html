<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
  </head>

  <body>


    <div id="game_anchor"></div>

    <script src="libpong.js"></script>

    <button onclick="runMario()">Mario</button> 
    <button onclick="runLuigi()">Luigi</button>
    <button onclick="runSpect()">Spectator</button>


    <script>

    //   function whenAvailable(name, callback) {
    //       var interval = 10; // ms
    //       window.setTimeout(function() {
    //           if (window[name]) {
    //               console.log(name, 'has finished loading');
    //               callback(window[name]);
    //           } else {
    //               whenAvailable(name, callback);
    //           }
    //       }, interval);
    //   }

    // whenAvailable("libpong", function(t) {

    //     //ask new game

    // });
    



      function runMario()
      {
          window.libpong.launch_game(
            {
              player_A:
              {
                  name: 'Mario',
                  win: 15,
                  loss: 8,
                  avatar: 'avatars/mario.png'
              },
              player_B:
              {
                  name: 'Luigi',
                  win: 6,
                  loss: 12,
                  avatar: 'avatars/luigi.jpeg'
              },
              playertype: 0,
              player_secret: 'itsame',
              game_id: 'test_id'
            });
      }

      function runLuigi()
      {
          window.libpong.launch_game(
            {
              player_A:
              {
                  name: 'Mario',
                  win: 15,
                  loss: 8,
                  avatar: 'avatars/mario.png'
              },
              player_B:
              {
                  name: 'Luigi',
                  win: 6,
                  loss: 12,
                  avatar: 'avatars/luigi.jpeg'
              },
              playertype: 1,
              player_secret: 'deathstare',
              game_id: 'test_id'
            });
      }

      function runSpect()
      {
          window.libpong.launch_game(
            {
              player_A:
              {
                  name: 'Mario',
                  win: 15,
                  loss: 8,
                  avatar: 'avatars/mario.png'
              },
              player_B:
              {
                  name: 'Luigi',
                  win: 6,
                  loss: 12,
                  avatar: 'avatars/luigi.jpeg'
              },
              playertype: 0,
              player_secret: '',
              game_id: 'test_id'
            });
      }
    </script>


<script src="libpong.js"></script>
<script>
  
 // window.libpong.launch_pong_duel(data);

</script>


  </body>

</html>
